params.trimmomatic = "/ifs/data/nfs_share/ikmb_repository/software/trimmomatic/0.36"

params.outdir = "output"

// Trimmomatic configuration variables
params.leading = 3
params.trailing = 3
params.slidingwindow = "4:15"
params.minlen = 75
params.adapters = "NexteraPE-PE.fa"

executor {

	name = "slurm"
	queueSize="50"

}

process {
	
	executor='slurm'
	queue='ikmb_a'
   	cpus = 1
   	memory = { 8.GB * task.attempt }
   	time = { 2.h * task.attempt }
   	clusterOptions = { "--qos=ikmb_a" }
   	errorStrategy = { task.exitStatus == 143 ? 'retry' : 'finish' }
   	maxRetries = 3
   	maxErrors = '-1'

	
	$Fastqc {
		module = [ "Java/1.8.0", "Fastqc/0.11.3" ]

	}

	$Trimmomatic {
		module = [ "Java/1.8.0" ]
		cpus = 8
	}

	$Bloomfilter {
		module = [ "BioBloom/2.0.6" ]

	}


	$resultBiobloom {
		module = [ "Ruby/2.2.2" ]
	}
}
